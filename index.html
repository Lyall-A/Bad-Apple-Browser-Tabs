<!DOCTYPE html>
<html>
    <head>
        <title>Browser Tab Thing</title>
    </head>
    <body>
        <button onclick="openWindows()">Spawn windows</button>
        <script src="/main.js"></script>
        <script>
            const mapUrl = `/map.json`;

            function openWindows() {
                loadMap(mapUrl).then(map => {
                    const start = Date.now() + 5000;
                    for (let y = 0; y < map.length; y++) {
                        console.log(`Spawning window: ${y}`);
                        window.open(`/tab.html?y=${y}&start=${start}&map=${encodeURIComponent(mapUrl)}`, "_blank", `width=${map[y].length * characterWidth},height=1,top=${topOffset * y},left=0`);
                        // break;
                    }
                });
            }
        </script>
    </body>
</html>